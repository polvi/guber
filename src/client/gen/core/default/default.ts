/**
 * Generated by orval v7.17.0 ðŸº
 * Do not edit manually.
 * Kubernetes API
 * Kubernetes API server OpenAPI specification
 * OpenAPI spec version: v1
 */
import type {
  IoK8sApiCoreV1Namespace,
  PatchNamespaceParams,
} from ".././models";

import { customFetch } from "../../../custom-fetch";

export type patchNamespaceResponse200 = {
  data: IoK8sApiCoreV1Namespace;
  status: 200;
};

export type patchNamespaceResponseSuccess = patchNamespaceResponse200 & {
  headers: Headers;
};
export type patchNamespaceResponse = patchNamespaceResponseSuccess;

export const getPatchNamespaceUrl = (
  name: string,
  params?: PatchNamespaceParams,
) => {
  const normalizedParams = new URLSearchParams();

  Object.entries(params || {}).forEach(([key, value]) => {
    if (value !== undefined) {
      normalizedParams.append(key, value === null ? "null" : value.toString());
    }
  });

  const stringifiedParams = normalizedParams.toString();

  return stringifiedParams.length > 0
    ? `http://fake/api/v1/namespaces/${name}?${stringifiedParams}`
    : `http://fake/api/v1/namespaces/${name}`;
};

export const patchNamespace = async (
  name: string,
  ioK8sApiCoreV1Namespace: IoK8sApiCoreV1Namespace,
  params?: PatchNamespaceParams,
  options?: RequestInit,
): Promise<patchNamespaceResponse> => {
  return customFetch<patchNamespaceResponse>(
    getPatchNamespaceUrl(name, params),
    {
      ...options,
      method: "PATCH",
      headers: { "Content-Type": "application/json", ...options?.headers },
      body: JSON.stringify(ioK8sApiCoreV1Namespace),
    },
  );
};
